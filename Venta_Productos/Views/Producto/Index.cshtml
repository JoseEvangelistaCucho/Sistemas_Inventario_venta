
<link rel="stylesheet" href="~/css/Views/Producto.css" asp-append-version="true" />

<div class="contenedor-general-vista">
    <div class="contenedor-vista-detalle">

        <div class="contenedor-cabecera-general">
            <div class="componentes-inicio-final separador-componentes-vista">
                <h4 style="    flex: 1 1 0%;">Produtos</h4>
                <div>
                    <button class="btn open-modal-btn">
                        Registrar Nuevo
                    </button>
                    <button class="btn">
                        <div class="menu-container">
                            <span class="menu-button">⋮</span>
                            <div class="menu-options">
                                <a href="#">Opción 1</a>
                                <a href="#">Opción 2</a>
                                <a href="#">Opción 3</a>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
        <div class="separador-componentes-vista">
            <input />
        </div>
    </div>

    @for (int i = 0; i < 10; i++)
    {
        <div class="MuiPaper-root _3dIl1 MuiPaper-elevation3 MuiPaper-rounded">
            <div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3">
                <div class="MuiGrid-root MuiGrid-item">
                    <a href="javascript:void(0)">
                        <img src="/assets/img/keyfact_default_image.png">
                    </a>
                </div>
                <div class="MuiGrid-root _9o3BH MuiGrid-item MuiGrid-grid-xs-true">
                    <p class="MuiTypography-root eOg94 MuiTypography-body1">10 DISCO DE CORTE</p>
                    <table class="ta-eO">
                        <tbody>
                            <tr>
                                <td width="250">
                                    <i class="mdi mdi-code-not-equal-variant"></i> 20231021105229
                                </td>
                                <td><i class="mdi mdi-barcode"></i> SIN CODIGO DE BARRAS</td>
                            </tr>
                            <tr class="_31OB4"><td><i class="mdi mdi-tag"></i> 10 DISCO DE CORTE</td><td><i class="mdi mdi-ruler"></i> UNIDADES</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="MuiGrid-root _3V_vX MuiGrid-item">
                    <span class="MuiTypography-root _3KeyQ MuiTypography-button"><i>S/ </i>70<sub>.00</sub></span>
                    <button class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedSecondary MuiButton-containedSizeSmall MuiButton-sizeSmall" tabindex="0" type="button">
                        <span class="MuiButton-label">Ver stock</span><span class="MuiTouchRipple-root"></span>
                    </button>
                </div>
                <div class="MuiGrid-root _25yGY MuiGrid-item">
                    <div class="menu-container">
                        <span class="menu-button">⋮</span>
                        <div class="menu-options">
                            <a href="#">Opción 1</a>
                            <a href="#">Opción 2</a>
                            <a href="#">Opción 3</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }

</div>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        function createModalContent() {
            console.log("Injecting modal content...");
            const modalContent = `
                    <div class="row justify-content-center">
                        <div class="col-lg-7">
                            <div class="card shadow-lg border-0 rounded-lg mt-5">
                                <div class="card-header">
                                    <h3 class="text-center font-weight-light my-4">Create Account</h3>
                                </div>
                                <div class="card-body">
                                    <form>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3 mb-md-0">
                                                    <input class="form-control" id="inputFirstName" type="text" placeholder="Enter your first name">
                                                    <label for="inputFirstName">First name</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input class="form-control" id="inputLastName" type="text" placeholder="Enter your last name">
                                                    <label for="inputLastName">Last name</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-floating mb-3">
                                            <input class="form-control" id="inputEmail" type="email" placeholder="name@example.com">
                                            <label for="inputEmail">Email address</label>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3 mb-md-0">
                                                    <input class="form-control" id="inputPassword" type="password" placeholder="Create a password">
                                                    <label for="inputPassword">Password</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3 mb-md-0">
                                                    <input class="form-control" id="inputPasswordConfirm" type="password" placeholder="Confirm password">
                                                    <label for="inputPasswordConfirm">Confirm Password</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-4 mb-0">
                                            <div class="d-grid">
                                                <a class="btn btn-primary btn-block" href="login.html">Create Account</a>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="card-footer text-center py-3">
                                    <div class="small">
                                        <a href="login.html">Have an account? Go to login</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

            // Asignar el contenido al modal
            document.getElementById('myModal').innerHTML = modalContent;
        }

        console.log("modal : ", modalPresentacion);

        // Obtener el botón que abre el modal
        var btn = document.querySelector(".open-modal-btn");

        // Obtener el botón que cierra el modal
        //  var closeBtn = document.querySelector(".close-modal-btn");

        // Cuando el usuario haga clic en el botón, se abre el modal
        btn.onclick = function () {
            // createModalContent();
            modalPresentacion.classList.add("show-modal");
        }

        // Cuando el usuario haga clic en el botón de cerrar, se cierra el modal
        /* closeBtn.onclick = function () {
             modalPresentacion.style.display = "none";
         }*/

        // Cuando el usuario haga clic fuera del contenido del modal, se cierra el modal
        window.onclick = function (event) {
            if (event.target == modal) {
                modalPresentacion.style.display = "none";
            }
        }





















        // Añadimos un listener a todos los botones de menú
        document.querySelectorAll('.menu-button').forEach(function (button) {
            button.addEventListener('click', function (event) {
                // Cerrar cualquier menú abierto
                closeAllMenus();

                // Mostrar el menú del botón clicado
                var menu = button.nextElementSibling;
                menu.style.display = 'block';

                // Evitar que el clic cierre el menú inmediatamente
                event.stopPropagation();
            });
        });

        // Función para cerrar todos los menús
        function closeAllMenus() {
            document.querySelectorAll('.menu-options').forEach(function (menu) {
                menu.style.display = 'none';
            });
        }

        // Cerrar el menú al hacer clic fuera de él
        window.onclick = function () {
            closeAllMenus();
        };


    });
</script>